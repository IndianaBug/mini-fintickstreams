# ==================================================
# app.toml â€” minimal pipeline app config
# ==================================================

id = "market-ingest"
env = "prod"
config_version = 1
redis_enabled = true

# --------------------------------------------------
# Fixed-point scaling (canonical representation)
# All integer values stored as: real_value * scale
# --------------------------------------------------
[scales]
price = 100000000        # 1e8  (supports tiny prices like 0.0000023)
qty = 100000000          # 1e8
open_interest = 100000000
funding = 1000000000000  # 1e12

# --------------------------------------------------
# Exchange toggles
# --------------------------------------------------
[exchange_toggles]
binance_linear = true
hyperliquid_perp = true

# --------------------------------------------------
# Stream routing behavior
# --------------------------------------------------
[streams]
assign_shard_on_create = true
allow_reroute = false
persist_assignments = true

# --------------------------------------------------
# Safety limits
# --------------------------------------------------
[limits]
max_active_streams = 500
max_events_per_sec = 500000

# --------------------------------------------------
# Logging
# --------------------------------------------------
[logging]
level = "info"

# --------------------------------------------------
# Metrics
# --------------------------------------------------
[metrics]
enabled = true

